# UI 挙動

## ズーム

`src/App.vue` ではズームを 2 モードで切り替えます。

- `全期間 (zoomMode = 'all')`
  - 全イベントの最小〜最大に合わせてスケール
- `年ズーム (zoomMode = 'year')`
  - スライダーで中心年（`zoomCenterYear`）を移動
  - 表示範囲は中心年 ±1年（固定）

補足:
- `zoomMode` を `year` に切り替えたとき、選択中イベントがあればそのイベントの `year` を中心にします

## イベントの選択

- イベント（期間バー領域）をクリックすると、そのイベントが選択状態になります
- 右側の固定パネル（`aside.side-panel`）が開き、タイトル/期間/詳細が表示されます

## URL 同期

選択状態は URL クエリに反映されます。

- 選択: `?event=<eventId>` を付与
- 閉じる: `event` クエリを削除

実装は `history.replaceState` のため、ページ遷移せず URL だけ更新されます。

## 初回ロード時の復元

初回マウント時に URL クエリの `event` を読み、該当 `id` のイベントが存在すれば自動的に選択します。

## キーボード

- `Escape`: パネルを閉じる

## 表示ラベル

年表示は `yearLabel(year)` が変換します。

- `1` → `1年目`
- `2` 以上 → `n年目`
- `0` 以下 → `n年前`（`1 - year` を `n` として扱う）
